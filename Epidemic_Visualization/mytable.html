<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>疫情可视化</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="assets/materialize/css/materialize.min.css" media="screen,projection" />
    <!-- Bootstrap Styles-->
    <link href="assets/css/bootstrap.css" rel="stylesheet" />
    <!-- FontAwesome Styles-->
    <link href="assets/css/font-awesome.css" rel="stylesheet" />
    <link href="assets/css/custom-styles.css" rel="stylesheet" />
    <!-- Google Fonts-->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
    <link rel="stylesheet" href="assets/js/Lightweight-Chart/cssCharts.css">
    <script src="assets/js/jquery-3.3.1.min.js"></script>
    <script src="assets/js/jquery.loading.min.js"></script>
    <script src="assets/js/echarts.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/jquery.metisMenu.js"></script> 
    <link href="https://cdn.bootcss.com/bootstrap-table/1.14.2/bootstrap-table.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/bootstrap-table/1.14.2/bootstrap-table.min.js"></script>
    <!--bootstrap-table-lanuage-->
    <script src="https://cdn.bootcss.com/bootstrap-table/1.14.2/bootstrap-table-locale-all.min.js"></script>
    <!--bootstrap-table-export-->
    <script src="https://cdn.bootcss.com/bootstrap-table/1.14.2/extensions/export/bootstrap-table-export.min.js"></script>
    <!--在客户端保存生成的导出文件-->
    <script src="https://cdn.bootcss.com/FileSaver.js/2014-11-29/FileSaver.min.js"></script>
    <!--以XLSX（Excel 2007+ XML格式）格式导出表（SheetJS）-->
    <script src="https://cdn.bootcss.com/xlsx/0.14.2/xlsx.core.min.js"></script>
    <!--以PNG格式导出表格-->
    <!--对于IE支持包括 html2canvas 之前的 es6-promise-->
    <script src="https://cdn.bootcss.com/es6-promise/4.1.1/es6-promise.auto.min.js"></script>
    <script src="https://cdn.bootcss.com/html2canvas/0.5.0-beta4/html2canvas.min.js"></script>
    <!--将表导出为PDF文件-->
    <script src="https://unpkg.com/tableexport.jquery.plugin/libs/jsPDF/jspdf.min.js"></script>
    <script src="https://unpkg.com/tableexport.jquery.plugin/libs/jsPDF-AutoTable/jspdf.plugin.autotable.js"></script>
    <!--无论期望的格式如何，最后都包含 tableexport.jquery.plugin（不是tableexport）-->
    <script src="https://unpkg.com/tableexport.jquery.plugin/tableExport.min.js"></script>

</head>
<body>
    <div id="wrapper">
        <nav class="navbar navbar-default top-navbar" role="navigation">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand waves-effect waves-dark" href="index.html"><i class="large material-icons">track_changes</i> <strong>全民战疫</strong></a>
        
    <div id="sideNav" href=""><i class="material-icons dp48">toc</i></div>
            </div>
        </nav>
  
    <nav class="navbar-default navbar-side" role="navigation">
            <div class="sidebar-collapse">
                <ul class="nav" id="main-menu">
                  <li>
                    <a href="#" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-dashboard"></i>疫情地图<span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level">
                      <li>
                        <a href="index.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-dashboard"></i>中国疫情地图</a>
                      </li>
                      <li>
                        <a href="hubei_map.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-dashboard"></i>湖北疫情地图</a>
                      </li>
                      <li>
                        <a href="world.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-dashboard"></i>世界疫情地图</a>
                      </li>
                      <li>
                        <a href="US_map.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-dashboard"></i>美国疫情地图</a>
                      </li>                   
                    </ul>
                  </li>
                  <li>
                    <a href="#" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-bar-chart-o"></i>趋势分析<span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level">
                      <li>
                            <a href="chart.html" class="waves-effect waves-dark"style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-bar-chart-o"></i>中国趋势</a>
                          </li>
                      <li>
                            <a href="countries_chart.html" class="waves-effect waves-dark"style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-bar-chart-o"></i>海外趋势</a>
                          </li>                 
                    </ul>
                  </li>
                  <li>
                    <a href="#" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-table"></i>数据概况<span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level collapse in">
                      <li>
                            <a href="mytable.html" class="active-menu waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-table"></i>中国数据</a>
                          </li>
                      <li>
                        <a href="countries_data.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-table"></i>海外数据</a>
                      </li>               
                    </ul>
                  </li>
				  <li>
						<a href="direction.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-fw fa-plus-square"></i>医院分布</a>
				  </li>
                  <li>
                    <a href="#" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-desktop"></i>空间自相关分析<span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level">
                      <li>
                        <a href="autocorrelation_hb.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-bar-chart-o"></i>湖北疫情分析</a>
                      </li>
                      <li>
                        <a href="autocorrelation_usa.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-table"></i>美国疫情分析</a>
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a href="#" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-sitemap"></i>空间社会网络分析<span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level">
                      <li>
                        <a href="network.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-sitemap"></i>国际关系分析</a>
                      </li>
                      <li>
                        <a href="wordcloud.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-edit"></i>词云展示</a>
                      </li>
                    </ul>
                  </li>
                  <li>
                        <a href="simulation.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-fw fa-tags"></i>疫情模拟预测</a>
                    </li>
                        </ul>
                    </li>
                </ul>

            </div>

        </nav>
    <div id="page-wrapper">
      <div class="header"> 
        <h1 class="page-header">
           全国各省份数据概况
         </h1>
         <div class="divider" style=""></div>
        <!--  <ol class="breadcrumb">
        </ol> -->
        </div>
<div id="page-inner"> 
      <div class="form-inline row" >
      <label class="form-inline"style="margin-left: 15px;color: black">请选择您想要查询的省份</label>  
        <select class="form-control" id="select" style="width: 120px;margin-left: 15px">
                <option>湖北  </option>
                <option>北京  </option>
                <option>天津  </option>
                <option>河北  </option>
                <option>山西  </option>
                <option>内蒙古</option>
                <option>辽宁  </option>
                <option>吉林  </option>
                <option>黑龙江</option>
                <option>安徽  </option>
                <option>福建  </option>
                <option>江西  </option>
                <option>山东  </option>
                <option>河南  </option>
                <option>湖南  </option>
                <option>广东  </option>
                <option>广西  </option>
                <option>海南  </option>
                <option>重庆  </option>
                <option>四川  </option>
                <option>贵州  </option>
                <option>云南  </option>
                <option>陕西  </option>
                <option>甘肃  </option>
                <option>青海  </option>
                <option>宁夏  </option>
                <option>江苏  </option>
                <option>新疆  </option>
                <option>上海  </option>
                <option>浙江  </option>
                <option>西藏  </option>
                <option>台湾</option>
                <option>香港  </option>
                <option>澳门  </option>
      </select>
    </div>   
      <div class="row">
            <div class="col-md-12">
             <div class="card">
               <div class="card-content">
                   <div class="table-responsive">  
                    <table  id="tb" class="table table-striped table-bordered table-hover">  <!-- /*dataTables-example*/ -->
                        <tbody>
                        </tbody>    
                    </table>
                </div>   
            </div>
           </div>         
         </div>
      </div>
      <div class="header"style="margin-bottom: 20px"> 
        <h1 class="page-header"style="padding-left: 0px">湖北省各市数据概况</h1>
         <div class="divider" style=""></div>
     </div>
   <div class="form-inline row" >
      <label class="form-inline"style="margin-left: 15px;color: black">请选择您想要查询的城市</label>  
      <select class="form-control" id="select2" style="width: 120px;margin-left: 15px">
                <option>武汉</option>
                <option>荆州</option>
                <option>黄冈</option>
                <option>咸宁</option>
                <option>随州</option>
                <option>黄石</option>
                <option>十堰</option>
                <option>宜昌</option>
                <option>襄阳</option>
                <option>鄂州</option>
                <option>荆门</option>
                <option>孝感</option>
                <option>恩施州</option>
      </select>
    </div>
    <div class="row">
            <div class="col-md-12">
             <div class="card">
               <div class="card-content">
                   <div class="table-responsive">  
                    <table  id="tb2" class="table table-striped table-bordered table-hover">  <!-- /*dataTables-example*/ -->
                        <tbody>
                        </tbody>    
                    </table>
                </div>   
            </div>
           </div>         
         </div>
      </div>

  <script type="text/javascript">

    var val = '湖北';
    GetTable(val);
    $("#select").change(function(){
          $('#tb').bootstrapTable('destroy');
          val=$(this).val();
          GetTable(val);

        });
    function GetTable(val) {

      $.ajax({
        type: "post",
        dataType: "json",
        url: "https://api.inews.qq.com/newsqa/v1/query/pubished/daily/list?province=" + val,
        success: function (json) {
                    console.log(json);
                    var datas = json.data;

                    $('#tb').bootstrapTable({                         
                            method: 'get',
                            cache: false,
                            pagination: true,
                            pageSize: 15,
                            pageNumber:1,
                            pageList: [10,15,20,50,'所有'],  
                            sidePagination:'client',
                            locale:'zh-cn',
                            toolbar: "#toolbar",//显示工具栏
                            showToggle: true,//工具栏上显示列表模式切换
                            showExport: true,//工具栏上显示导出按钮
                            exportDataType: "all",//显示导出范围
                            exportTypes: ['json', 'xml', 'png', 'csv', 'txt', 'sql', 'doc', 'excel', 'xlsx', 'pdf'],//导出格式
                            exportOptions: {//导出设置
                                fileName: 'Tablexxx',//下载文件名称
                            },
                            columns: 
                            [
                                {field:"date",title:"时间",align:"center",valign:"middle",sortable: true,},
                                {field:"province",title:"省份",align:"center",valign:"middle"},
                                {field:"confirm",title:"累计确诊",align:"center",valign:"middle"},
                                {field:"dead",title:"累计死亡",align:"center",valign:"middle"},
                                {field:"heal",title:"累计治愈",align:"center",valign:"middle"},
                                {field:"confirm_add",title:"新增确诊",align:"center",valign:"middle"},
                                {field:"newHeal",title:"新增治愈",align:"center",valign:"middle"},
                                {field:"newDead",title:"新增死亡",align:"center",valign:"middle"},
                            ],
                            data:datas,
                        }); 
        },  
        error: function (XMLResponse) {
          alert(" 错误信息：" + XMLResponse.responseText);
        }
      });
    }
  </script>
    <script type="text/javascript">
            var val2 = '武汉';
            GetTable2(val2);
            $("#select2").change(function(){
            $('#tb2').bootstrapTable('destroy');
              val2=$(this).val();
              GetTable2(val2);
            });
            function GetTable2(val) {
                $.ajax({
                    type: "post",
                    dataType: "json",
                    url: 'https://api.inews.qq.com/newsqa/v1/query/pubished/daily/list?province=湖北&city=' + val,
                    success: function (json) {
                        console.log(json);
                        var datas = json.data;

                        $('#tb2').bootstrapTable({
                                method: 'get',
                                cache: false,
                                pagination: true,
                                pageSize: 15,
                                pageNumber:1,
                                pageList: [10,15,20,50,'所有'],  
                                sidePagination:'client',
                                locale:'zh-cn',
                                toolbar: "#toolbar",//显示工具栏
                                showToggle: true,//工具栏上显示列表模式切换
                                showExport: true,//工具栏上显示导出按钮
                                exportDataType: "all",//显示导出范围
                                exportTypes: ['csv','excel','xlsx','txt','json','xml','png','sql','doc'],//导出格式
                                exportOptions: {//导出设置
                                    fileName: 'Tablexxx',//下载文件名称
                                },
                                columns: 
                                [
                                    {field:"date",title:"时间",align:"center",valign:"middle",sortable: true,},
                                    {field:"city",title:"城市",align:"center",valign:"middle"},
                                    {field:"confirm",title:"累计确诊",align:"center",valign:"middle"},
                                    {field:"dead",title:"累计死亡",align:"center",valign:"middle"},
                                    {field:"heal",title:"累计治愈",align:"center",valign:"middle"},
                                    {field:"confirm_add",title:"新增确诊",align:"center",valign:"middle"},
                                ],
                                data:datas,
                            }); 
                    },  
                    error: function (XMLResponse) {
                        alert(" 错误信息：" + XMLResponse.responseText);
                    }
                });
            }
    </script>
  
  
    <!-- Custom Js -->
    <script src="assets/js/custom-scripts.js"></script> 
 

</body>

</html>
